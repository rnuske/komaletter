<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="komaletter">
<title>Introduction to komaletter • komaletter</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Introduction to komaletter">
<meta property="og:description" content="komaletter">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">komaletter</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.4.2.901</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item">
  <a class="nav-link" href="../articles/intro.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/intro.html">Introduction to komaletter</a>
    <a class="dropdown-item" href="../articles/parameterized_letter.html">Parameterized Letters for Mass Mailings</a>
  </div>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-examples">Examples</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-examples">
    <a class="dropdown-item" href="../articles/pkgdown_letter_example0.html">Example 0</a>
    <a class="dropdown-item" href="../articles/pkgdown_letter_example1.html">Example 1</a>
    <a class="dropdown-item" href="../articles/pkgdown_letter_example2.html">Example 2</a>
    <a class="dropdown-item" href="../articles/pkgdown_letter_example3.html">Example 3</a>
    <a class="dropdown-item" href="../articles/pkgdown_letter_example4.html">Example 4</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/rnuske/komaletter/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">



<script src="intro_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <main id="main"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Introduction to komaletter</h1>
                        <h4 data-toc-skip class="author">Robert Nuske</h4>
            
            <h4 data-toc-skip class="date">2022-01-25</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/rnuske/komaletter/blob/HEAD/vignettes/intro.Rmd" class="external-link"><code>vignettes/intro.Rmd</code></a></small>
      <div class="d-none name"><code>intro.Rmd</code></div>
    </div>

    
    
<p>Letters are fairly standardized products and as such lend themselves to be written in Markdown. This package is inspired by <a href="https://cran.r-project.org/package=linl" class="external-link">linl</a> but it wraps the very configurable KOMA-Script class <em>scrlttr2</em> instead of the standard LaTeX document class <em>letter</em>.</p>
<p><em>komaletter</em> strives to turn a simple R Markdown document together with a layout definition into a beautiful letter (PDF). Layout definitions can be one of KOMA-Script’s standard styles, the package default style or a user defined style. For more details refer to the section <a href="#letter-layouts">Letter Layouts</a>.</p>
<p>Various aspects of the letter can be determined via variables in the R Markdown document metadata (aka YAML header), see <a href="#letter-settings">Letter settings</a>.</p>
<p>Pay attention to the <a href="#about-printing">printing</a> of your letter. A shrunk or scaled-down document might (besides a ruined layout) may result in parts of the address not being visible.</p>
<div class="section level2">
<h2 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a>
</h2>
<p>An easy way to start a new <em>komaletter</em> is to ask for the skeleton document in RStudio via <em>New File &gt; R Markdown &gt; From Template &gt; komaletter</em> or <code>rmarkdown::draft("myletter.Rmd", template="pdf", package="komaletter")</code>. To turn the markown in a beautiful PDF use the Knit Button in RStudio or <code>rmarkdown::render("myletter.Rmd")</code>.</p>
<p>The skeleton creates a very simple letter as a starting point for your own writing. Several formatting defaults for font, fontsize, indentation are in use. The following figure shows the complete source on the left and the rendered PDF on the right.</p>
<p><img src="../reference/figures/skeleton.png"></p>
</div>
<div class="section level2">
<h2 id="letter-settings">Letter Settings<a class="anchor" aria-label="anchor" href="#letter-settings"></a>
</h2>
<p>Various aspects of the letter can be customized via the following variables in the R Markdown document metadata (aka YAML header).</p>
<p>Although it rarely makes sense to write a letter without sender and recipient, a komaletter can be constructed by merely specifying the output format. All other variables are optional.</p>
<table class="table">
<caption>Most commonly used variables.</caption>
<colgroup>
<col width="21%">
<col width="78%">
</colgroup>
<thead><tr class="header">
<th>Variable</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>author</td>
<td>Writer of the letter</td>
</tr>
<tr class="even">
<td>return-address</td>
<td>Address of the sender; takes a list for a multi-line address.</td>
</tr>
<tr class="odd">
<td>address</td>
<td>Name and address of the recipient; takes a list.</td>
</tr>
<tr class="even">
<td>date</td>
<td>Custom date; if not specified, current date will be inserted.</td>
</tr>
<tr class="odd">
<td>subject</td>
<td>Subject line.</td>
</tr>
<tr class="even">
<td>opening</td>
<td>Text for the salutation.</td>
</tr>
<tr class="odd">
<td>closing</td>
<td>Text for the complementary close, like: Best regards.</td>
</tr>
<tr class="even">
<td>signature</td>
<td>Text (e.g. your name) or an image of your signature with <code>"\\includegraphics{sig.png}"</code>.</td>
</tr>
<tr class="odd">
<td>signature-before</td>
<td>Adjust vertical space between closing and signature by specifying a length such as <code>2mm</code> or <code>"0.5\\baselineskip"</code>.</td>
</tr>
</tbody>
</table>
<p>All variables understood by <code>rmarkdown</code>’s <code>pdf_document</code> format may be used in addition to the <code>komaletter</code> variables defined in the following table to further customize your letter. These variables do not change the placement of elements of the letter (address, letter head, text). For those aspects refer to <a href="#letter-layouts">Letter Layouts</a>.</p>
<table class="table">
<caption>Further komaletter variables.</caption>
<colgroup>
<col width="15%">
<col width="84%">
</colgroup>
<thead><tr class="header">
<th>Variable</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>lco</td>
<td>Letter Class Option File (cf. <a href="#letter-layouts">Letter Layouts</a>).</td>
</tr>
<tr class="even">
<td>lang</td>
<td>Language code according to <a href="https://tools.ietf.org/html/bcp47" class="external-link">BCP 47</a> (e.g. <code>en</code> or <code>en-GB</code>).</td>
</tr>
<tr class="odd">
<td>papersize</td>
<td>Size of paper eg. <code>a4</code>, <code>letter</code>.</td>
</tr>
<tr class="even">
<td>return-phone</td>
<td>Phone number of sender used in letter head.</td>
</tr>
<tr class="odd">
<td>return-email</td>
<td>Email address of sender used in letter head.</td>
</tr>
<tr class="even">
<td>return-url</td>
<td>Website of sender used in letter head.</td>
</tr>
<tr class="odd">
<td>return-short</td>
<td>Shorter version of return address only used in window (see vignette <code>letter_example4</code>).</td>
</tr>
<tr class="even">
<td>place</td>
<td>Sender’s place used near date.</td>
</tr>
<tr class="odd">
<td>yourref</td>
<td>Addressee’s reference as part of reference line.</td>
</tr>
<tr class="even">
<td>yourmail</td>
<td>Date of addressee’s referenced mail as part of reference line.</td>
</tr>
<tr class="odd">
<td>myref</td>
<td>Sender’s reference as part of reference line.</td>
</tr>
<tr class="even">
<td>customer</td>
<td>Customer number as part of reference line.</td>
</tr>
<tr class="odd">
<td>invoice</td>
<td>Invoice number as part of reference line.</td>
</tr>
<tr class="even">
<td>cc</td>
<td>Recipients to be carbon-copied; can take a list.</td>
</tr>
<tr class="odd">
<td>encl</td>
<td>List of enclosures.</td>
</tr>
<tr class="even">
<td>ps</td>
<td>Text to be added at the end of the letter as a postscript.</td>
</tr>
<tr class="odd">
<td>inline-links</td>
<td>If true, do standard inline hyperlinks rather than footnotes (styling is author’s job, cf. vignette <code>letter_example2</code>).</td>
</tr>
<tr class="even">
<td>komaoption</td>
<td>Specify further KOMA options; takes a list (see <a href="https://komascript.de/~mkohm/scrguien.pdf" class="external-link">KOMA-Script documentation</a>).</td>
</tr>
<tr class="odd">
<td>parskip</td>
<td>Defines how to mark new paragraphs, e.g. full, half, off (see <a href="https://komascript.de/~mkohm/scrguien.pdf" class="external-link">KOMA-Script documentation</a>).</td>
</tr>
</tbody>
</table>
</div>
<div class="section level2">
<h2 id="letter-layouts">Letter Layouts<a class="anchor" aria-label="anchor" href="#letter-layouts"></a>
</h2>
<p>The layout of letters is defined in so-called <strong>Letter Class Option</strong> files. KOMA-Script provides a number of standard styles (see following table). The package comes with a default style defined in <em>maintainersDelight.lco</em>. Users may as well define there own layout.</p>
<p>Styles can be selected via the variable <code>lco</code> in the YAML header of the rmarkdown document. Provide either the name of one of the standard styles listed below or the path to a self defined style without file extension. If LaTeX can not find the <strong>lco</strong> file, it uses KOMA-Script’s default: <strong>DIN</strong>. Common errors besides typos are paths <em>with</em> extension, underscores in paths mangeled by pandoc.</p>
<p>Custom <em>lco’s</em> may be constructed either based on one of the standard lco-files or by defining all aspects such as position of the recpients address, foldmarks etc.. For a comprehensive description refer to the <a href="https://komascript.de/~mkohm/scrguien.pdf" class="external-link">KOMA-Script Guide</a>.</p>
<table class="table">
<caption>Some of KOMA-Script’s standard LCOs.</caption>
<thead><tr class="header">
<th>Country</th>
<th>Standard</th>
<th>Window Envelope</th>
<th>Paper Size</th>
<th>lco</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>Germany</td>
<td>DIN 676</td>
<td>DIN lang, C4, C5</td>
<td>A4</td>
<td>DIN, DINmtext</td>
</tr>
<tr class="even">
<td>France</td>
<td>NF Z 11-001</td>
<td>DL</td>
<td>A4</td>
<td>NF</td>
</tr>
<tr class="odd">
<td>Switzerland</td>
<td>SN 010 130</td>
<td>DIN lang, C4, C5</td>
<td>A4</td>
<td>SN, SNleft</td>
</tr>
<tr class="even">
<td>United States</td>
<td></td>
<td>commercial #9</td>
<td>Letter</td>
<td>UScommercial9, UScommercial9DW</td>
</tr>
<tr class="odd">
<td>Japan</td>
<td></td>
<td>Chou/You 3 &amp; 4</td>
<td>A4</td>
<td>NipponEL, …</td>
</tr>
</tbody>
</table>
</div>
<div class="section level2">
<h2 id="internationalisation">Internationalisation<a class="anchor" aria-label="anchor" href="#internationalisation"></a>
</h2>
<p>It is easy to write letters in non English languages. The necessary <em>language</em> and <em>layout</em> settings can be achieved with the YAML variables <code>lang</code> and <code>lco</code>. <code>komaletter</code> passes these on to the LaTeX template and the nicely internationalized KOMA-Script letter class.</p>
<p>The language can be specified via the two letter code such as <code>en</code>, <code>de</code>, <code>fr</code>, <code>es</code>. Or if you want to be more precise by adding a country <code>en-US</code> for American English or <code>de-CH</code> for Swiss German. KOMA-Script then generates e.g. the date according to language and country conventions.</p>
<p>Beware that you need additional LaTeX language packages if you choose a non English language. Make sure you have the necessary LaTeX language packs, <em>i.e.</em> <code>texlive-lang-german</code> for a German letter (<code>lang: de</code>) which should be present if you write LaTeX Documents in that language.</p>
<p>A letter layout fitting for the local window envelope style can be select using the YAML variable <code>lco</code>. The various letter layouts are discussed in the previous section. A french letter layout for the window envelope style <em>DL</em> would be selected via <code>lco: NF</code>.</p>
</div>
<div class="section level2">
<h2 id="about-printing">About Printing<a class="anchor" aria-label="anchor" href="#about-printing"></a>
</h2>
<p>Some PDF viewers do not realize that the document already has a blank margin and scale or ‘fit to page’ for printing. This generally results in smaller fonts, overly large margins, broken layout and most importantly a misplaced address. In the worst case, parts of the address are not visible in the window of the envelope.</p>
<p>komaletter’s default layout signals the PDF viewer to print the document at its actual size. Unfortunately, not many PDF viewers heed this hint.</p>
<p>Thus, before printing the document, you should check that the document is not shrunk or ‘fit to page’. <strong>The document must be printed at its actual size / 100%</strong> so that the positions of the elements are correct (not possible in Okular &lt; 1.7 (Applications 19.04), e.g. part of Kubuntu 18.04).</p>
</div>
<div class="section level2">
<h2 id="hints">Hints<a class="anchor" aria-label="anchor" href="#hints"></a>
</h2>
<ul>
<li><p>The default papersize of KOMA-Script class <em>scrlttr2</em> is DIN A4. If you want to create an US style letter eg. using <code>lco: UScommercial9</code>, remember to set the papersize to <code>letter</code>.</p></li>
<li><p>If your <code>return-address</code> is very long, it might not fit on the one line backaddress in the address window. The letter layout coming with the package komaletter tries hard to craft a pretty two-line version. The other option is using the YAML parameter <code>return-short</code> to provide an alternative one line address only used in the address window. <code>return-short</code> can be a list such as <code>return-address</code> or just one line of text. See also the vignette <code>letter_example4</code>.</p></li>
<li><p>Since the figure environment is not defined in the classes <code>letter</code> and <code>scrlltr2</code>, pandoc has to be told not to wrap the image into <code>\begin{figure}...\end{figure}</code>. Which can be achieved by ending the line with a backslash:</p></li>
</ul>
<pre><code>![Alt text](image.png)\ </code></pre>
<p>If you just want a regular inline image, just make sure it is not the only thing in the paragraph. One way to do this is to insert a nonbreaking space after the image:</p>
<pre><code>![This image won't be a figure](/url/of/image.png)\</code></pre>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Robert Nuske, Dirk Eddelbuettel, Aaron Wolen.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
